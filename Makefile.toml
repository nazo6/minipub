env_files = [{ path = "./env/dev.env", profile = "development" }]

[tasks.build]
command = "cargo"
args = ["build", "--release"]
env_files = ["./env/prod.env"]

[tasks.dev]
run_task = { name = ["watch", "tunnel"], parallel = true }

[tasks.watch]
command = "cargo"
args = ["run"]
watch = { watch = ["./src/"] }

[tasks.tunnel]
command = "lt"
args = ["--port", "${PORT}", "-s", "${LOCALTUNNEL_SUBDOMAIN}"]
